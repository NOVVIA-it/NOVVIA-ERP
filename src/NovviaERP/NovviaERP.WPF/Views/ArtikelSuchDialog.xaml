<Window x:Class="NovviaERP.WPF.Views.ArtikelSuchDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Artikel suchen" Height="500" Width="700"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResizeWithGrip"
        Background="#f5f5f5">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Text="Artikel suchen und hinzufuegen" FontSize="16" FontWeight="SemiBold"
                   Foreground="#0078D4" Margin="0,0,0,10"/>

        <!-- Suchleiste -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBox x:Name="txtSuche" Padding="8" FontSize="13"
                     KeyDown="TxtSuche_KeyDown"/>
            <Button Grid.Column="1" Content="Suchen" Padding="15,8" Margin="5,0,0,0"
                    Click="Suchen_Click" Background="#0078D4" Foreground="White" BorderThickness="0"/>
        </Grid>

        <!-- Ergebnisliste -->
        <Border Grid.Row="2" Background="White" BorderBrush="#ddd" BorderThickness="1">
            <DataGrid x:Name="dgArtikel" AutoGenerateColumns="False" IsReadOnly="True"
                      SelectionMode="Single" MouseDoubleClick="DgArtikel_DoubleClick"
                      HeadersVisibility="Column" GridLinesVisibility="Horizontal"
                      BorderThickness="0" RowHeight="35"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Auto"
                      CanUserSortColumns="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Art.Nr." Binding="{Binding CArtNr}" Width="100"/>
                    <DataGridTextColumn Header="Barcode" Binding="{Binding CBarcode}" Width="100"/>
                    <DataGridTextColumn Header="Bezeichnung" Binding="{Binding Name}" Width="*"/>
                    <DataGridTextColumn Header="VK Netto" Binding="{Binding FVKNetto, StringFormat=N2}" Width="80">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Right"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="Bestand" Binding="{Binding NLagerbestand, StringFormat=N0}" Width="70">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Right"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Menge + Buttons -->
        <Grid Grid.Row="3" Margin="0,15,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="Menge:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <TextBox x:Name="txtMenge" Grid.Column="1" Text="1" Padding="8" FontSize="13"
                     HorizontalContentAlignment="Right"/>
            <TextBlock x:Name="txtStatus" Grid.Column="2" VerticalAlignment="Center"
                       Foreground="#666" Margin="15,0,0,0"/>
            <Button Grid.Column="3" Content="Hinzufuegen" Click="Hinzufuegen_Click" Padding="20,8"
                    Background="#0078D4" Foreground="White" BorderThickness="0" Margin="0,0,10,0"/>
            <Button Grid.Column="4" Content="Abbrechen" Click="Abbrechen_Click" Padding="15,8"
                    IsCancel="True"/>
        </Grid>
    </Grid>
</Window>
