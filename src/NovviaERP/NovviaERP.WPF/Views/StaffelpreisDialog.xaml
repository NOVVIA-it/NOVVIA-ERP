<Window x:Class="NovviaERP.WPF.Views.StaffelpreisDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Staffelpreise" Height="400" Width="550"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResizeWithGrip"
        Background="#f5f5f5">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Margin="0,0,0,15">
            <TextBlock x:Name="txtHeader" Text="Staffelpreise bearbeiten" FontSize="16" FontWeight="SemiBold"
                       Foreground="#0078D4"/>
            <TextBlock x:Name="txtKundengruppe" Text="Kundengruppe: " Foreground="#666" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- DataGrid -->
        <Border Grid.Row="1" Background="White" BorderBrush="#ddd" BorderThickness="1" Padding="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <DataGrid x:Name="dgStaffelpreise" AutoGenerateColumns="False" CanUserAddRows="False"
                          HeadersVisibility="Column" GridLinesVisibility="Horizontal" RowHeight="28"
                          BorderThickness="0">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Ab Menge" Binding="{Binding NAnzahlAb, UpdateSourceTrigger=PropertyChanged}" Width="100">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                    <Setter Property="Margin" Value="0,0,10,0"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                            <DataGridTextColumn.EditingElementStyle>
                                <Style TargetType="TextBox">
                                    <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                </Style>
                            </DataGridTextColumn.EditingElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="VK Netto" Binding="{Binding FNettoPreis, StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" Width="120">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="Margin" Value="0,0,10,0"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="VK Brutto" Binding="{Binding FBruttoPreis, StringFormat=N2}" Width="120" IsReadOnly="True">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                    <Setter Property="Margin" Value="0,0,10,0"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Rabatt %" Binding="{Binding FProzent, StringFormat=N1, UpdateSourceTrigger=PropertyChanged}" Width="80">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>

                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,0">
                    <Button x:Name="btnHinzufuegen" Content="+ Staffel hinzufuegen" Click="BtnHinzufuegen_Click"
                            Padding="10,5" Margin="0,0,10,0"/>
                    <Button x:Name="btnEntfernen" Content="- Staffel entfernen" Click="BtnEntfernen_Click"
                            Padding="10,5"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="Speichern" Click="Speichern_Click" Padding="20,8" Margin="0,0,10,0"
                    Background="#0078D4" Foreground="White" BorderThickness="0"/>
            <Button Content="Abbrechen" Click="Abbrechen_Click" Padding="15,8" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
