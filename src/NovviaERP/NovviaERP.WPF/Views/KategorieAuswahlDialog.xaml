<Window x:Class="NovviaERP.WPF.Views.KategorieAuswahlDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Kategorien zuweisen" Height="450" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResizeWithGrip"
        Background="#f5f5f5">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Text="Kategorien zuweisen" FontSize="16" FontWeight="SemiBold"
                   Foreground="{DynamicResource PrimaryBrush}" Margin="0,0,0,15"/>

        <!-- Suche -->
        <TextBox x:Name="txtSuche" Grid.Row="1" Height="28" Margin="0,0,0,10"
                 TextChanged="TxtSuche_TextChanged"/>

        <!-- Kategorien-Liste -->
        <Border Grid.Row="2" Background="White" BorderBrush="#ddd" BorderThickness="1">
            <TreeView x:Name="tvKategorien" BorderThickness="0">
                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                        <StackPanel Orientation="Horizontal">
                            <CheckBox IsChecked="{Binding IsSelected}" Margin="0,0,5,0"
                                      Click="CheckBox_Click"/>
                            <TextBlock Text="{Binding Name}"/>
                        </StackPanel>
                    </HierarchicalDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>
        </Border>

        <!-- Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="OK" Click="BtnOK_Click" Padding="25,8" Margin="0,0,10,0"
                    Background="{DynamicResource PrimaryBrush}" Foreground="White" BorderThickness="0"/>
            <Button Content="Abbrechen" Click="BtnAbbrechen_Click" Padding="15,8" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
